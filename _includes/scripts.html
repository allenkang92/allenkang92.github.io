<!-- 검색 및 필터링 스크립트 -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // 모달 관련 요소
    var modal = document.getElementById("blog-info-modal");
    var btn = document.getElementById("blog-info-btn");
    var span = document.querySelector(".modal-close");

    // 모달 이벤트 리스너
    if(btn) {
        btn.onclick = function() {
            modal.style.display = "flex";
        }
    }

    if(span) {
        span.onclick = function() {
            modal.style.display = "none";
        }
    }

    // 카테고리 필터 (posts 페이지용)
    var categorySelect = document.getElementById('category-select');
    if (categorySelect) {
        categorySelect.addEventListener('change', function() {
            var selectedCategory = this.value;
            var posts = document.querySelectorAll('.post-item');
            
            posts.forEach(function(post) {
                if (selectedCategory === 'all' || post.dataset.category === selectedCategory) {
                    post.style.display = 'block';
                } else {
                    post.style.display = 'none';
                }
            });
        });
    }

    // 모달 외부 클릭 시 닫기
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
});
</script>

<!-- 페이지별 추가 스크립트 -->
{% if page.scripts %}
  {% for script in page.scripts %}
    <script src="{{ script | relative_url }}" defer></script>
  {% endfor %}
{% endif %}
